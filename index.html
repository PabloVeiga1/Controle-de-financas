<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Monitor de Salário</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#203a43">
  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body {
      background-color:black;
      min-height: 100vh;
      color: #fff;
    }
    h5{
      color:white
    }
    .card {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(10px);
      border: none;
      border-radius: 1rem;
    }

    .form-control {
      background-color: rgba(210, 209, 209, 0.596);
      border: none;
      color: #000000;
    }

    .form-control:focus {
      background-color: rgba(255, 255, 255, 0.764);
      color: #fff;
      box-shadow: none;
    }

    .list-group-item {
      background: transparent;
      color: #fff;
      border-color: rgba(255, 255, 255, 0.2);
    }

    .saldo {
      font-size: 1.8rem;
      font-weight: bold;
    }
    .positivo { color: #4ade80; }
    .negativo { color: #f87171; }
  </style>
</head>
<body>

<div class="container py-4" id="container">
  <h1 class="text-center mb-4"> Monitor de Salário</h1>

  <!-- Salário -->
  <div class="card p-4 mb-4">
    <h5>Salário Mensal</h5>
    <input type="number" id="salario" class="form-control" placeholder="Digite seu salário" / style="color:black">
  </div>

  <!-- Contas -->
  <div class="card p-4 mb-4">
    <h5>Contas</h5>

    <div class="row g-2 mb-3">
      <div class="col-6">
        <input type="text" id="nomeConta" class="form-control" placeholder="Nome da conta" style="color:black" />
      </div>
      <div class="col-6">
        <input type="number" id="valorConta" class="form-control" placeholder="Valor gasto" style="color:black" />
      </div>
    </div>

    <button class="btn btn-outline-light w-100 mb-3" onclick="adicionarConta()" id="add">Adicionar conta</button>

    <ul class="list-group" id="listaContas"></ul>
  </div>

  <!-- Resultado -->
  <div class="card p-4 text-center">
    <h5>Saldo Restante</h5>
    <div id="saldo" class="saldo positivo">R$ 0,00</div>
  </div>
</div>

<script>
  const salarioInput = document.getElementById('salario');
  const listaContas = document.getElementById('listaContas');
  const saldoDiv = document.getElementById('saldo');

  let contas = JSON.parse(localStorage.getItem('contas')) || [];

  function salvarSalario() {
    localStorage.setItem('salario', salarioInput.value);
    calcularSaldo();
  }

  function carregarSalario() {
    const salarioSalvo = localStorage.getItem('salario');
    if (salarioSalvo) salarioInput.value = salarioSalvo;
  }

  function adicionarConta() {
    const nome = document.getElementById('nomeConta').value;
    const valor = parseFloat(document.getElementById('valorConta').value);

    if (!nome || isNaN(valor)) return;

    contas.push({ nome, valor });
    salvarContas();
    renderizarContas();

    document.getElementById('nomeConta').value = '';
    document.getElementById('valorConta').value = '';
  }

  function removerConta(index) {
    contas.splice(index, 1);
    salvarContas();
    renderizarContas();
  }

  function salvarContas() {
    localStorage.setItem('contas', JSON.stringify(contas));
    calcularSaldo();
  }

  function renderizarContas() {
    listaContas.innerHTML = '';

    contas.forEach((conta, index) => {
      const li = document.createElement('li');
      li.className = 'list-group-item d-flex justify-content-between align-items-center';
      li.innerHTML = `
        <div>
          <strong>${conta.nome}</strong><br>
          R$ ${conta.valor.toFixed(2)}
        </div>
        <button class="btn btn-sm btn-outline-danger" onclick="removerConta(${index})">✕</button>
      `;
      listaContas.appendChild(li);
    });

    calcularSaldo();
  }

  function calcularSaldo() {
    const salario = parseFloat(salarioInput.value) || 0;
    const totalContas = contas.reduce((acc, c) => acc + c.valor, 0);
    const saldo = salario - totalContas;

    saldoDiv.textContent = `R$ ${saldo.toFixed(2)}`;
    saldoDiv.className = 'saldo ' + (saldo >= 0 ? 'positivo' : 'negativo');
  }

  salarioInput.addEventListener('input', salvarSalario);

  carregarSalario();
  renderizarContas();
</script>
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('service-worker.js');
  }
</script>
</body>
</html>